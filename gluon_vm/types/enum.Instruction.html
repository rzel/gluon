<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Instruction` enum in crate `gluon_vm`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Instruction">

    <title>gluon_vm::types::Instruction - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../index.html'>gluon_vm</a>::<wbr><a href='index.html'>types</a></p><script>window.sidebarCurrent = {name: 'Instruction', ty: 'enum', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content enum">
<h1 class='fqn'><span class='in-band'>Enum <a href='../index.html'>gluon_vm</a>::<wbr><a href='index.html'>types</a>::<wbr><a class='enum' href=''>Instruction</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-7023' class='srclink' href='../../src/gluon_vm/vm/src/types.rs.html#16-118' title='goto source code'>[src]</a></span></h1>
<pre class='rust enum'>pub enum Instruction {
    PushInt(<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.isize.html'>isize</a>),
    PushByte(<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u8.html'>u8</a>),
    PushFloat(<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.f64.html'>f64</a>),
    PushString(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    PushUpVar(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    Push(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    PushGlobal(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    Call(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    TailCall(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    Construct {
        tag: <a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>,
        args: <a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>,
    },
    ConstructRecord {
        record: <a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>,
        args: <a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>,
    },
    ConstructArray(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    GetOffset(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    GetField(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    Split,
    TestTag(<a class='type' href='../../gluon_vm/types/type.VmTag.html' title='gluon_vm::types::VmTag'>VmTag</a>),
    Jump(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    CJump(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    Pop(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    Slide(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    MakeClosure {
        function_index: <a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>,
        upvars: <a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>,
    },
    NewClosure {
        function_index: <a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>,
        upvars: <a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>,
    },
    CloseClosure(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>),
    AddInt,
    SubtractInt,
    MultiplyInt,
    DivideInt,
    IntLT,
    IntEQ,
    AddByte,
    SubtractByte,
    MultiplyByte,
    DivideByte,
    ByteLT,
    ByteEQ,
    AddFloat,
    SubtractFloat,
    MultiplyFloat,
    DivideFloat,
    FloatLT,
    FloatEQ,
}</pre><div class='docblock'><p>Enum which represent the instructions executed by the virtual machine.</p>

<p>The binary arithmetic instructions pop two values of the stack and then push the result.</p>
</div><h2 class='variants'>Variants</h2>
<span id='variant.PushInt' class='variant'><code>PushInt(<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.isize.html'>isize</a>)</code></span><div class='docblock'><p>Push an integer to the stack</p>
</div><span id='variant.PushByte' class='variant'><code>PushByte(<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u8.html'>u8</a>)</code></span><div class='docblock'><p>Push a byte to the stack</p>
</div><span id='variant.PushFloat' class='variant'><code>PushFloat(<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.f64.html'>f64</a>)</code></span><div class='docblock'><p>Push a float to the stack</p>
</div><span id='variant.PushString' class='variant'><code>PushString(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Push a string to the stack by loading the string at <code>index</code> in the currently executing
function</p>
</div><span id='variant.PushUpVar' class='variant'><code>PushUpVar(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Push a variable to the stack by loading the upvariable at <code>index</code> from the currently
executing function</p>
</div><span id='variant.Push' class='variant'><code>Push(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Push the value at <code>index</code></p>
</div><span id='variant.PushGlobal' class='variant'><code>PushGlobal(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Push the value at <code>index</code></p>
</div><span id='variant.Call' class='variant'><code>Call(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Call a function by passing it <code>args</code> number of arguments. The function is at the index in
the stack just before the arguments. After the call is all arguments are removed and the
function is replaced by the result of the call.</p>
</div><span id='variant.TailCall' class='variant'><code>TailCall(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Tailcalls a function, removing the current stack frame before calling it.
See <code>Call</code>.</p>
</div><span id='variant.Construct' class='variant'><code>Construct</code></span><div class='docblock'><p>Constructs a data value tagged by <code>tag</code> by taking the top <code>args</code> values of the stack.</p>
</div><h3 class='fields'>Fields</h3>

                           <table><tr><td id='variant.Construct.field.tag'><code>tag:&nbsp;<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a></code></td><td><div class='docblock'><p>The tag of the data</p>
</div></td></tr><tr><td id='variant.Construct.field.args'><code>args:&nbsp;<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a></code></td><td><div class='docblock'><p>How many arguments that is taken from the stack to construct the data.</p>
</div></td></tr></table><span id='variant.ConstructRecord' class='variant'><code>ConstructRecord</code></span><h3 class='fields'>Fields</h3>

                           <table><tr><td id='variant.ConstructRecord.field.record'><code>record:&nbsp;<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a></code></td><td><div class='docblock'><p>Index to the specification describing which fields this record contains</p>
</div></td></tr><tr><td id='variant.ConstructRecord.field.args'><code>args:&nbsp;<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a></code></td><td><div class='docblock'><p>How many arguments that is taken from the stack to construct the data.</p>
</div></td></tr></table><span id='variant.ConstructArray' class='variant'><code>ConstructArray(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Constructs an array containing <code>args</code> values.</p>
</div><span id='variant.GetOffset' class='variant'><code>GetOffset(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Retrieves the field at <code>offset</code> of an object at the top of the stack. The result of the
field access replaces the object on the stack.</p>
</div><span id='variant.GetField' class='variant'><code>GetField(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Retrieves the field of a polymorphic record by retrieving the string constant at <code>index</code>
and using that to retrieve lookup the field. The result of the
field access replaces the object on the stack.</p>
</div><span id='variant.Split' class='variant'><code>Split</code></span><div class='docblock'><p>Splits a object, pushing all contained values to the stack.</p>
</div><span id='variant.TestTag' class='variant'><code>TestTag(<a class='type' href='../../gluon_vm/types/type.VmTag.html' title='gluon_vm::types::VmTag'>VmTag</a>)</code></span><div class='docblock'><p>Tests if the value at the top of the stack is tagged with <code>tag</code>. Pushes <code>True</code> if the tag
matches, otherwise <code>False</code></p>
</div><span id='variant.Jump' class='variant'><code>Jump(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Jumps to the instruction at <code>index</code> in the currently executing function.</p>
</div><span id='variant.CJump' class='variant'><code>CJump(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Jumps to the instruction at <code>index</code> in the currently executing function if <code>True</code> is at the
top of the stack and pops that value.</p>
</div><span id='variant.Pop' class='variant'><code>Pop(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Pops the top <code>n</code> values from the stack.</p>
</div><span id='variant.Slide' class='variant'><code>Slide(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Pops the top value from the stack, then pops <code>n</code> more values, finally the first value is
pushed back to the stack.</p>
</div><span id='variant.MakeClosure' class='variant'><code>MakeClosure</code></span><div class='docblock'><p>Creates a closure with the function at <code>function_index</code> of the currently executing function
and <code>upvars</code> upvariables popped from the top of the stack.</p>
</div><h3 class='fields'>Fields</h3>

                           <table><tr><td id='variant.MakeClosure.field.function_index'><code>function_index:&nbsp;<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a></code></td><td><div class='docblock'><p>The index in the currently executing function which the function data is located at</p>
</div></td></tr><tr><td id='variant.MakeClosure.field.upvars'><code>upvars:&nbsp;<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a></code></td><td><div class='docblock'><p>How many upvariables the closure contains</p>
</div></td></tr></table><span id='variant.NewClosure' class='variant'><code>NewClosure</code></span><div class='docblock'><p>Creates a closure with the function at <code>function_index</code> of the currently executing
function. The closure has room for <code>upvars</code> upvariables but these are not filled until the
matching call to <code>ClosureClosure</code> is executed.</p>
</div><h3 class='fields'>Fields</h3>

                           <table><tr><td id='variant.NewClosure.field.function_index'><code>function_index:&nbsp;<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a></code></td><td><div class='docblock'><p>The index in the currently executing function which the function data is located at</p>
</div></td></tr><tr><td id='variant.NewClosure.field.upvars'><code>upvars:&nbsp;<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a></code></td><td><div class='docblock'><p>How many upvariables the closure contains</p>
</div></td></tr></table><span id='variant.CloseClosure' class='variant'><code>CloseClosure(<a class='type' href='../../gluon_vm/types/type.VmIndex.html' title='gluon_vm::types::VmIndex'>VmIndex</a>)</code></span><div class='docblock'><p>Fills the previously allocated closure with <code>n</code> upvariables.</p>
</div><span id='variant.AddInt' class='variant'><code>AddInt</code></span><span id='variant.SubtractInt' class='variant'><code>SubtractInt</code></span><span id='variant.MultiplyInt' class='variant'><code>MultiplyInt</code></span><span id='variant.DivideInt' class='variant'><code>DivideInt</code></span><span id='variant.IntLT' class='variant'><code>IntLT</code></span><span id='variant.IntEQ' class='variant'><code>IntEQ</code></span><span id='variant.AddByte' class='variant'><code>AddByte</code></span><span id='variant.SubtractByte' class='variant'><code>SubtractByte</code></span><span id='variant.MultiplyByte' class='variant'><code>MultiplyByte</code></span><span id='variant.DivideByte' class='variant'><code>DivideByte</code></span><span id='variant.ByteLT' class='variant'><code>ByteLT</code></span><span id='variant.ByteEQ' class='variant'><code>ByteEQ</code></span><span id='variant.AddFloat' class='variant'><code>AddFloat</code></span><span id='variant.SubtractFloat' class='variant'><code>SubtractFloat</code></span><span id='variant.MultiplyFloat' class='variant'><code>MultiplyFloat</code></span><span id='variant.DivideFloat' class='variant'><code>DivideFloat</code></span><span id='variant.FloatLT' class='variant'><code>FloatLT</code></span><span id='variant.FloatEQ' class='variant'><code>FloatEQ</code></span><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class='enum' href='../../gluon_vm/types/enum.Instruction.html' title='gluon_vm::types::Instruction'>Instruction</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-7091' class='srclink' href='../../src/gluon_vm/vm/src/types.rs.html#121-149' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.adjust' class='method'><code>fn <a href='#method.adjust' class='fnname'>adjust</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.i32.html'>i32</a></code></h4>
<div class='docblock'><p>Returns by how much the stack is adjusted when executing the instruction <code>self</code>.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html' title='core::fmt::Debug'>Debug</a> for <a class='enum' href='../../gluon_vm/types/enum.Instruction.html' title='gluon_vm::types::Instruction'>Instruction</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-6922' class='srclink' href='../../src/gluon_vm/vm/src/types.rs.html#15' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.fmt' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class='struct' href='https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html' title='core::fmt::Formatter'>Formatter</a>) -&gt; <a class='type' href='https://doc.rust-lang.org/nightly/core/fmt/type.Result.html' title='core::fmt::Result'>Result</a></code></h4>
<div class='docblock'><p>Formats the value using the given formatter.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a> for <a class='enum' href='../../gluon_vm/types/enum.Instruction.html' title='gluon_vm::types::Instruction'>Instruction</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-6993' class='srclink' href='../../src/gluon_vm/vm/src/types.rs.html#15' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.clone' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone' class='fnname'>clone</a>(&amp;self) -&gt; <a class='enum' href='../../gluon_vm/types/enum.Instruction.html' title='gluon_vm::types::Instruction'>Instruction</a></code></h4>
<div class='docblock'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div><h4 id='method.clone_from' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: &amp;Self)</code><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div></h4>
<div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html' title='core::marker::Copy'>Copy</a> for <a class='enum' href='../../gluon_vm/types/enum.Instruction.html' title='gluon_vm::types::Instruction'>Instruction</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-7022' class='srclink' href='../../src/gluon_vm/vm/src/types.rs.html#15' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "gluon_vm";
        window.playgroundUrl = "";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    
    <script defer src="../../search-index.js"></script>
</body>
</html>